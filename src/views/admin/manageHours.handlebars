
<div class="container">
    <h1><i data-lucide="calendar-check" style="vertical-align: middle; margin-right: 8px;"></i> Hor치rios</h1>

    <div class="filter-section">
        <form method="GET" action="/admin/hours">
            <div class="form-row">
                <label>Profissional</label>
                <select name="profissional_id">
                    {{#each profissionais}}
                    <option value="{{this.id}}" {{#ifEquals this.id ../profissional_id}}selected{{/ifEquals}}>{{this.nome}}</option>
                    {{/each}}
                </select>
            </div>
            <div class="form-row">
                <label>Data</label>
                <input type="date" name="data" value="{{data}}">
            </div>
            <button type="submit" class="btn btn-filter">
                <i data-lucide="sliders-horizontal" style="width:16px"></i> Filtrar Agenda
            </button>
        </form>
    </div>

    <h2>Adicionar Disponibilidade</h2>
    <div class="filter-section" style="border-style: dashed; background: transparent;">
        <form method="POST" action="/admin/hours">
            <input type="hidden" name="profissional_id" value="{{profissional_id}}">
            <input type="hidden" name="data" value="{{data}}">
            <div class="form-row">
                <label>Novo Hor치rio</label>
                <input type="time" name="hora" required>
            </div>
            <button type="submit" class="btn btn-primary">
                <i data-lucide="plus" style="width:18px"></i> Adicionar
            </button>
        </form>
    </div>

    <h2>Hor치rios Livres</h2>
    <div class="time-grid">
        {{#each horariosDisponiveis}}
        <div class="time-chip">
            <span class="time-val">{{this.hora}}</span>
            <a href="/admin/hours/delete?id={{this.id}}&profissional_id={{../profissional_id}}&data={{../data}}" 
               class="btn-remove" 
               onclick="return confirm('Deseja remover esse hor치rio?')">
               <i data-lucide="x" style="width:10px; display:inline-block"></i> Excluir
            </a>
        </div>
        {{/each}}
    </div>

    <h2>Agendamentos do Dia</h2>
    <div class="appointment-list">
        {{#each agendamentos}}
        <div class="appointment-card">
            <div class="app-time">{{this.hora}}</div>
            <div class="app-info">
                <span class="app-name">{{this.cliente_nome}}</span>
                <span class="app-status">Status: {{this.status}}</span>
            </div>
            <i data-lucide="chevron-right" style="color: #333; width: 16px;"></i>
        </div>
        {{/each}}
    </div>
</div>

<script>
    lucide.createIcons();
</script>